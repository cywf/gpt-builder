name: Discussion Management

on:
  discussion:
    types: [created]
  discussion_comment:
    types: [created]

jobs:
  welcome-discussion:
    runs-on: ubuntu-latest
    if: github.event.action == 'created' && github.event.discussion
    permissions:
      discussions: write
    
    steps:
      - name: Welcome to discussion
        uses: actions/github-script@v7
        with:
          script: |
            const discussionNumber = context.payload.discussion.number;
            github.rest.discussions.createComment({
              owner: context.repo.owner,
              repo: context.repo.repo,
              discussion_number: discussionNumber,
              body: 'ðŸ‘‹ Thanks for starting this discussion! We appreciate your input and look forward to the conversation.'
            }).catch(error => {
              console.log('Note: Discussion comment API may require specific permissions');
            });
